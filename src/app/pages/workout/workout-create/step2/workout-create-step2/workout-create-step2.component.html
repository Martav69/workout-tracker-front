<div class="container">
  <!-- Stepper -->
  <div class="stepper">
    <span class="step">Étape 1</span>
    <span class="divider active"></span>
    <span class="step active">Étape 2</span>
  </div>

  <h2>Ajouter des exercices</h2>

  <button type="button" class="btn-secondary" (click)="addExercise()">
    + Ajouter un exercice
  </button>

  <div
    *ngFor="let ctrl of exercises.controls; let i = index"
    [formGroup]="ctrl"
    class="exercise-card"
  >
    <label>Nom</label>
    <input formControlName="name" class="input" />

    <label>Séries</label>
    <input type="number" formControlName="sets" class="input" />

    <label>Répétitions</label>
    <input type="number" formControlName="reps" class="input" />

    <label>Poids</label>
    <input type="number" formControlName="weight" class="input" />

    <button type="button" class="btn-danger" (click)="removeExercise(i)">
      Supprimer
    </button>
  </div>

  <button
    class="btn-primary finish-btn"
    (click)="saveAll()"
    [disabled]="exercises.length === 0 || loading"
  >
    {{ loading ? 'Enregistrement…' : 'Terminer la séance' }}
  </button>
</div>
