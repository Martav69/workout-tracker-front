<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-900">
  <div class="backdrop-blur-md bg-white/10 border border-white/20 rounded-xl shadow-xl p-8 w-full max-w-md text-white">
    
    <h1 class="text-3xl font-bold text-center mb-6">Connexion</h1>

    <form *ngIf="!showRegister" #f="ngForm" (ngSubmit)="onSubmit(f)" class="space-y-5">
      <input
        type="text"
        name="username"
        [(ngModel)]="formData.username"
        placeholder="Nom d'utilisateur"
        required
        class="w-full p-3 rounded-lg bg-white/10 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400"
      />

      <input
        type="password"
        name="password"
        [(ngModel)]="formData.password"
        placeholder="Mot de passe"
        required
        class="w-full p-3 rounded-lg bg-white/10 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400"
      />

      <button
        type="submit"
        [disabled]="f.invalid"
        class="w-full bg-purple-500 hover:bg-purple-600 text-white font-semibold py-3 rounded-lg transition duration-300 disabled:opacity-50"
      >
        Se connecter
      </button>
    </form>
    <div *ngIf="!showRegister" class="text-center mt-4">
      <span class="text-sm text-gray-300">Pas de compte ?</span>
      <button (click)="showRegister = true" class="ml-2 text-blue-400 hover:underline text-sm">Créer un compte</button>
    </div>

    <form *ngIf="showRegister" #registerForm="ngForm" (ngSubmit)="onRegister(registerForm)" class="space-y-5 animate-fade-in">
      <h2 class="text-2xl font-bold text-center mb-4">Créer un compte</h2>
      <input
        type="text"
        name="registerUsername"
        [(ngModel)]="registerData.username"
        placeholder="Nom d'utilisateur"
        required
        class="w-full p-3 rounded-lg bg-white/10 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-400"
      />
      <input
        type="password"
        name="registerPassword"
        [(ngModel)]="registerData.password"
        placeholder="Mot de passe"
        required
        class="w-full p-3 rounded-lg bg-white/10 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-400"
      />
      <button
        type="submit"
        [disabled]="registerForm.invalid"
        class="w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 rounded-lg transition duration-300 disabled:opacity-50"
      >
        S'inscrire
      </button>
      <div *ngIf="registerError" class="text-red-400 text-sm text-center mt-2">{{ registerError }}</div>
      <div *ngIf="registerSuccess" class="text-green-400 text-sm text-center mt-2">Compte créé avec succès ! Connectez-vous.</div>
      <div class="text-center mt-2">
        <button type="button" (click)="showRegister = false" class="text-gray-300 hover:underline text-sm">Retour à la connexion</button>
      </div>
    </form>
  </div>
</div>
